<%- include('partials/header', {titulo: titulo}) %>
<a class="btn btn-success mb-3" href="/reservaciones/nueva">Nueva reservación</a>
<table class="table table-striped table-dark">
  <thead><tr><th>Pasajero</th><th>Email</th><th>Vuelo</th><th>Salida</th><th>Estado</th><th>Acciones</th></tr></thead>
  <tbody>
    <% reservations.forEach(function(r){ %>
      <tr>
        <td><%= r.passenger_name %></td>
        <td><%= r.passenger_email %></td>
        <td><%= r.flight ? r.flight.code + ' (' + r.flight.origin + ' → ' + r.flight.destination + ')' : 'N/A' %></td>
        <td><%= r.flight ? r.flight.departure : '' %></td>
        <td><%= r.status %></td>
        <td>
          <a class="btn btn-sm btn-warning" href="/reservaciones/editar/<%= r.id %>">Editar</a>
          <a class="btn btn-sm btn-danger" href="/reservaciones/cancelar/<%= r.id %>">Cancelar</a>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
<%- include('partials/footer') %>
